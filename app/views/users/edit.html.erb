<%= render "shared/navbar" %>

<main>
  <section id="profile">
    <h1>My Profile</h1>
    <div class="pro-form">

      <%= form_for @user, url: update_username_profile_path, method: :patch, html: { class: "username-form", id: "edit_user_username", "data-turbo": "false" } do |f| %>
        <h2>Change Username:</h2>
        <%= f.text_field :username, autofocus: true, placeholder: (@user.username || "Your username"), required: true, id: "username", class: "form-control", minlength: 3, maxlength: 15 %>
        <%= f.submit "Save", class: "save-btn btn" %>
      <% end %>

      <%= form_for @user, url: update_password_profile_path, method: :patch, html: { class: "password-form", id: "edit_user_password", "data-turbo": "false" } do |f| %>
        <h2>Change Password:</h2>
        <%= f.password_field :password, autocomplete: "new-password", placeholder: "Enter new password", required: true, id: "new-password", class: "form-control" %>
        <%= f.password_field :password_confirmation, autocomplete: "new-password", placeholder: "Confirm new password", required: true, id: "password-confirmation", class: "form-control" %>
        <%= f.submit "Save", class: "save-btn btn" %>
      <% end %>

      <%= button_to "Delete account", delete_account_path, method: :delete, class: "delete-btn btn btn-danger", "data-turbo": "false" %>
    </div>
  </section>
</main>

<%= render "shared/footer" %>
